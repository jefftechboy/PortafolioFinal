{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Formulario Hotel Rapa Nui</title>
    <link rel="stylesheet" href="{% static 'app/css/base.css' %}">
    <link rel="stylesheet" href="{% static 'app/css/habitacion-emp.css' %}">

    
    <!-- Conexion CSS USUARIOS -->
    {% block extra_css %}

    {% endblock %}

    <!-- Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
      <link rel="stylesheet" href="{% static 'app/css/agenda.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Bundle JS (incluye Popper.js) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body>
    <header class="header-container">
      
      <a href="{% url 'inicio' %}">
      <img src="{% static 'app/img/logo.png' %}" alt="Logo de NEW RAPA NUI HOTEL" class="logo img-fluid">
    </a>
        <nav>
          <!-- TODOS -->
          <a href="{% url 'informacion_servicios' %}">Servicios</a>
          <a href="{% url 'informacion_habitaciones' %}">Habitación</a>
          <a href="{% url 'conocenos' %}">conocenos</a>
          <a href="{% url 'enviar_correo' %}">Correo</a>
          <a href="{% url 'password-reset' %}">password_reset</a>
          {% if user.is_authenticated %}
          <button class="btn btn-primary" 
          type="button" 
          data-bs-toggle="offcanvas" 
          data-bs-target="#offcanvasRight" 
          aria-controls="offcanvasRight">
                Cuenta
            </button>
          {% else %}  
              <a href="{% url 'login' %}">Iniciar Sesión</a>
              <div class="perfil-icon">
                <i class="fas fa-user"></i>
              </div>
              {% endif %}
        </nav>
        
        
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasRightLabel">Administracion Hotel 
              <br> {{ user.username }} 
              <br> {{ user.email }} 
              <br> {{ user.groups.all.0.name }}
            </h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            {% if user.is_authenticated %}
            {% if user.groups.all.0.name == 'Cliente' %}
                  <a href="{% url 'perfil_usuario' 123456789 %}">Perfil Usuario</a>
                  <a href="{% url 'reservas' 123456789 %}">Reservas</a>
                  {% endif %}
                {% if user.groups.all.0.name == 'Empleado' %}
                <a href="{% url 'listar_servicio' %}">Servicios Emp</a>
                <br>
                <a href="{% url 'listar_habitacion_emp' %}">Habitación Emp</a>
                <a href="{% url 'listar_cliente_emp' %}">Cliente Emp</a>
                <a href="{% url 'listar_reservas_emp' %}">Reserva Emp</a>
                <a href="{% url 'agenda' %}">Agenda Emp</a>
                {% endif %}
                {% if user.is_superuser %}
                <a href="{% url 'listar_servicio' %}">Servicios Emp</a>
                <a href="{% url 'listar_habitacion_emp' %}">Habitación Emp</a>
                <a href="{% url 'listar_cliente_emp' %}">Cliente Emp</a>
                <a href="{% url 'listar_reservas_emp' %}">Reserva Emp</a>
                <a href="{% url 'agenda' %}">Agenda Emp</a>
                <a href="{% url 'listar_empleado' 206694394  %}">Perfil Emp</a>
                {% endif %}
              {% endif %}
              <form method="POST" action="{% url 'logout' %}">
                {% csrf_token %}
                <button class="a" type="submit">Cerrar sesión</button>
              </form>
          </div>
        </div>










      </div>
    </header>













    <main  class="main-content">
      {% block content %}
      {{ error }}
      {% endblock %}
    </main>






    <footer class="footer">
      <div>
        <a href="tel:+56997523091">📱 Fono: +56 9 9752 3091</a>
        <br>
        <a href="">🏨 Hotel_New_Rapa_Nui</a>
      </div>
    </footer>



    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/es.js"></script>
    <script src="{% static 'app/js/crear-reserva-emp.js' %}"></script>
    <script src="{% static 'app/js/reserva.js' %}"></script>
    <script src="{% static 'app/js/base-user.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/es.js"></script>
</body>
</html>